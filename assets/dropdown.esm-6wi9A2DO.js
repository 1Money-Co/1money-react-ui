import{r as u}from"./index-CP2yOfOm.js";import{u as ke,P as en,C as bt,s as yt,O as f,h as oe,a as ht,d as It,D as h,j as Ot,e as ve,f as wt,g as R,F as Je,I as ce,l as Le,r as Xe,Z as De}from"./componentbase.esm-CXBs-FDc.js";import{C as Et}from"./index.esm-CGXqAvbI.js";import{C as xt}from"./index.esm-DId_rvK6.js";import{S as St}from"./index.esm-Bh1ZkPrL.js";import{T as nn}from"./index.esm-BnTj3pgm.js";import{O as Ct}from"./overlayservice.esm-Dd9bH3Gr.js";import{T as Ft}from"./tooltip.esm-DyXttjBC.js";import{C as Dt}from"./csstransition.esm-AzIikG66.js";import{I as tn}from"./iconbase.esm-B5oz0zHK.js";import{P as Lt}from"./portal.esm-D447dnBO.js";import{V as Pt}from"./virtualscroller.esm-CcJ9Yp2j.js";import{R as kt}from"./ripple.esm-Ckuixj0S.js";import{C as Kt}from"./index.esm-CBlkpF_h.js";function Pe(){return Pe=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Pe.apply(null,arguments)}var rn=u.memo(u.forwardRef(function(n,a){var r=tn.getPTI(n);return u.createElement("svg",Pe({ref:a,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"}))}));rn.displayName="SearchIcon";function z(){return z=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},z.apply(null,arguments)}function le(n){"@babel/helpers - typeof";return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},le(n)}function Tt(n,a){if(le(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,a);if(le(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function Rt(n){var a=Tt(n,"string");return le(a)=="symbol"?a:a+""}function ge(n,a,r){return(a=Rt(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}function Nt(n){if(Array.isArray(n))return n}function jt(n,a){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,t,O,C,L=[],m=!0,F=!1;try{if(O=(r=r.call(n)).next,a===0){if(Object(r)!==r)return;m=!1}else for(;!(m=(i=O.call(r)).done)&&(L.push(i.value),L.length!==a);m=!0);}catch(q){F=!0,t=q}finally{try{if(!m&&r.return!=null&&(C=r.return(),Object(C)!==C))return}finally{if(F)throw t}}return L}}function qe(n,a){(a==null||a>n.length)&&(a=n.length);for(var r=0,i=Array(a);r<a;r++)i[r]=n[r];return i}function Mt(n,a){if(n){if(typeof n=="string")return qe(n,a);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(n,a):void 0}}function At(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ue(n,a){return Nt(n)||jt(n,a)||Mt(n,a)||At()}function Ze(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)}return r}function Gt(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Ze(Object(r),!0).forEach(function(i){ge(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Vt={root:function(a){var r=a.props,i=a.focusedState,t=a.overlayVisibleState,O=a.context;return R("p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-focus":i,"p-variant-filled":r.variant?r.variant==="filled":O&&O.inputStyle==="filled","p-dropdown-clearable":r.showClear&&!r.disabled,"p-inputwrapper-filled":f.isNotEmpty(r.value),"p-inputwrapper-focus":i||t})},input:function(a){var r=a.props,i=a.label;return r.editable?"p-dropdown-label p-inputtext":R("p-dropdown-label p-inputtext",{"p-placeholder":i===null&&r.placeholder,"p-dropdown-label-empty":i===null&&!r.placeholder})},trigger:"p-dropdown-trigger",emptyMessage:"p-dropdown-empty-message",itemGroup:function(a){var r=a.optionGroupLabel;return R("p-dropdown-item-group",{"p-dropdown-item-empty":!r||r.length===0})},itemGroupLabel:"p-dropdown-item-group-label",dropdownIcon:"p-dropdown-trigger-icon p-clickable",loadingIcon:"p-dropdown-trigger-icon p-clickable",clearIcon:"p-dropdown-clear-icon p-clickable",filterIcon:"p-dropdown-filter-icon",filterClearIcon:"p-dropdown-filter-clear-icon",filterContainer:function(a){var r=a.clearIcon;return R("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!r})},filterInput:function(a){var r=a.props,i=a.context;return R("p-dropdown-filter p-inputtext p-component",{"p-variant-filled":r.variant?r.variant==="filled":i&&i.inputStyle==="filled"})},list:function(a){var r=a.virtualScrollerOptions;return"p-dropdown-items"},panel:function(a){var r=a.context;return R("p-dropdown-panel p-component",{"p-input-filled":r&&r.inputStyle==="filled"||oe.inputStyle==="filled","p-ripple-disabled":r&&r.ripple===!1||oe.ripple===!1})},item:function(a){var r=a.selected,i=a.disabled,t=a.label,O=a.index,C=a.focusedOptionIndex,L=a.highlightOnSelect;return R("p-dropdown-item",{"p-highlight":r&&L,"p-disabled":i,"p-focus":O===C,"p-dropdown-item-empty":!t||t.length===0})},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",wrapper:"p-dropdown-items-wrapper",header:"p-dropdown-header",footer:"p-dropdown-footer",transition:"p-connected-overlay"},Ht=`
@layer primereact {
    .p-dropdown {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
    }
    
    .p-dropdown-trigger {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }
    
    .p-dropdown-label {
        display: block;
        white-space: nowrap;
        overflow: hidden;
        flex: 1 1 auto;
        width: 1%;
        text-overflow: ellipsis;
        cursor: pointer;
    }
    
    .p-dropdown-label-empty {
        overflow: hidden;
        visibility: hidden;
    }
    
    input.p-dropdown-label  {
        cursor: default;
    }
    
    .p-dropdown .p-dropdown-panel {
        min-width: 100%;
    }
    
    .p-dropdown-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-dropdown-items-wrapper {
        overflow: auto;
    }
    
    .p-dropdown-item {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
    }
    
    .p-dropdown-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-dropdown-filter {
        width: 100%;
    }
    
    .p-dropdown-filter-container {
        position: relative;
    }
    
    .p-dropdown-clear-icon,
    .p-dropdown-filter-icon,
    .p-dropdown-filter-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
        right: 2rem;
    }
    
    .p-fluid .p-dropdown {
        display: flex;
    }
    
    .p-fluid .p-dropdown .p-dropdown-label {
        width: 1%;
    }
}
`,Bt={wrapper:function(a){var r=a.props;return{maxHeight:r.scrollHeight||"auto"}},panel:function(a){var r=a.props;return Gt({},r.panelStyle)}},me=bt.extend({defaultProps:{__TYPE:"Dropdown",__parentMetadata:null,appendTo:null,ariaLabel:null,ariaLabelledBy:null,autoFocus:!1,autoOptionFocus:!1,checkmark:!1,children:void 0,className:null,clearIcon:null,collapseIcon:null,dataKey:null,disabled:!1,dropdownIcon:null,editable:!1,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterClearIcon:null,filterDelay:300,filterIcon:null,filterInputAutoFocus:!1,filterLocale:void 0,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,focusInputRef:null,focusOnHover:!0,highlightOnSelect:!0,id:null,inputId:null,inputRef:null,invalid:!1,itemTemplate:null,loading:!1,loadingIcon:null,maxLength:null,name:null,onBlur:null,onChange:null,onContextMenu:null,onFilter:null,onFocus:null,onHide:null,onMouseDown:null,onShow:null,optionDisabled:null,optionGroupChildren:"items",optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,options:null,optionValue:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,required:!1,resetFilterOnHide:!1,scrollHeight:"200px",selectOnFocus:!1,showClear:!1,showFilterClear:!1,showOnFocus:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,useOptionAsValue:!1,value:null,valueTemplate:null,variant:null,virtualScrollerOptions:null},css:{classes:Vt,styles:Ht,inlineStyles:Bt}}),an=u.memo(u.forwardRef(function(n,a){var r=tn.getPTI(n);return u.createElement("svg",z({ref:a,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),u.createElement("rect",{width:"1",height:"1",fill:"currentColor",fillOpacity:"0"}))}));an.displayName="BlankIcon";var on=u.memo(function(n){var a=ke(),r=n.ptm,i=n.cx,t=n.selected,O=n.disabled,C=n.option,L=n.label,m=n.index,F=n.focusedOptionIndex,q=n.ariaSetSize,w=n.checkmark,$=n.highlightOnSelect,Z=n.onInputKeyDown,H=function(k){return r(k,{context:{selected:t,disabled:O,focused:m===F}})},ee=function(k,j){n.onClick&&n.onClick({originalEvent:k,option:C})},b=n.template?f.getJSXElement(n.template,n.option):n.label,K=a({id:"dropdownItem_".concat(m),role:"option",className:R(C.className,i("item",{selected:t,disabled:O,label:L,index:m,focusedOptionIndex:F,highlightOnSelect:$})),style:n.style,tabIndex:0,onClick:function(k){return ee(k)},onKeyDown:function(k){return Z(k)},onMouseMove:function(k){return n==null?void 0:n.onMouseMove(k,m)},"aria-setsize":q,"aria-posinset":m+1,"aria-label":L,"aria-selected":t,"data-p-highlight":t,"data-p-focused":F===m,"data-p-disabled":O},H("item")),ne=a({className:i("itemLabel")},H("itemLabel")),te=function(){if(t){var k=a({className:i("checkIcon")},H("checkIcon"));return u.createElement(Kt,k)}var j=a({className:i("blankIcon")},H("blankIcon"));return u.createElement(an,j)};return u.createElement("li",z({key:n.label},K),w&&te(),u.createElement("span",ne,b),u.createElement(kt,null))});on.displayName="DropdownItem";function We(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)}return r}function G(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?We(Object(r),!0).forEach(function(i){ge(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var ln=u.memo(u.forwardRef(function(n,a){var r=ke(),i=n.ptm,t=n.cx,O=n.sx,C=u.useContext(en),L=u.useRef(null),m=!(n.visibleOptions&&n.visibleOptions.length)&&n.hasFilter,F=n.visibleOptions?n.visibleOptions.length:0,q={filter:function(d){return H(d)},reset:function(){return n.resetFilter()}},w=function(d,s){return i(d,G({hostName:n.hostName},s))},$=function(){n.onEnter(function(){if(n.virtualScrollerRef.current){var d=n.getSelectedOptionIndex();d!==-1&&setTimeout(function(){return n.virtualScrollerRef.current.scrollToIndex(d)},0)}})},Z=function(){n.onEntered(function(){n.filter&&n.filterInputAutoFocus&&h.focus(L.current,!1)})},H=function(d){n.onFilterInputChange&&n.onFilterInputChange(d)},ee=function(){if(n.panelFooterTemplate){var d=f.getJSXElement(n.panelFooterTemplate,n,n.onOverlayHide),s=r({className:t("footer")},w("footer"));return u.createElement("div",s,d)}return null},b=function(d,s){if(n.focusOnHover){var v;n==null||(v=n.changeFocusedOptionIndex)===null||v===void 0||v.call(n,d,s)}},K=function(d,s){var v=f.getJSXElement(d,n)||Le(s?"emptyFilterMessage":"emptyMessage"),x=r({className:t("emptyMessage")},w("emptyMessage"));return u.createElement("li",x,v)},ne=function(d,s){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},x={height:v.props?v.props.itemSize:void 0};if(x=G(G({},x),d.style),d.group&&n.optionGroupLabel){var T=n.optionGroupLabel,S=n.optionGroupTemplate?f.getJSXElement(n.optionGroupTemplate,d,s):n.getOptionGroupLabel(d),N=s+"_"+n.getOptionGroupRenderKey(d),J=r({className:t("itemGroup",{optionGroupLabel:T}),style:x,"data-p-highlight":n.selected},w("itemGroup")),Y=r({className:t("itemGroupLabel")},w("itemGroupLabel"));return u.createElement("li",z({key:N},J),u.createElement("span",Y,S))}var Q=n.getOptionRenderKey(d)+"_"+s,I=n.getOptionLabel(d),M=n.isOptionDisabled(d);return u.createElement(on,{key:Q,label:I,index:s,focusedOptionIndex:n.focusedOptionIndex,option:d,ariaSetSize:F,onInputKeyDown:n.onInputKeyDown,style:x,template:n.itemTemplate,selected:n.isSelected(d),highlightOnSelect:n.highlightOnSelect,disabled:M,onClick:n.onOptionClick,onMouseMove:b,ptm:i,cx:t,checkmark:n.checkmark})},te=function(){return f.isNotEmpty(n.visibleOptions)?n.visibleOptions.map(ne):n.hasFilter?K(n.emptyFilterMessage,!0):K(n.emptyMessage)},p=function(){if(n.showFilterClear&&n.filterValue){var d=Le("clear"),s=r({className:t("filterClearIcon"),"aria-label":d,onClick:function(){return n.onFilterClearIconClick(function(){return h.focus(L.current)})}},w("filterClearIcon")),v=n.filterClearIcon||u.createElement(nn,s),x=ce.getJSXIcon(v,G({},s),{props:n});return x}return null},k=function(){if(n.filter){var d=p(),s=r({className:t("filterIcon")},w("filterIcon")),v=n.filterIcon||u.createElement(rn,s),x=ce.getJSXIcon(v,G({},s),{props:n}),T=r({className:t("filterContainer",{clearIcon:d})},w("filterContainer")),S=r({ref:L,type:"text",autoComplete:"off",className:t("filterInput",{context:C}),placeholder:n.filterPlaceholder,onKeyDown:n.onFilterInputKeyDown,onChange:function(I){return H(I)},value:n.filterValue},w("filterInput")),N=u.createElement("div",T,u.createElement("input",S),d,x);if(n.filterTemplate){var J={className:R("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!d}),element:N,filterOptions:q,filterInputKeyDown:n.onFilterInputKeyDown,filterInputChange:H,filterIconClassName:"p-dropdown-filter-icon",clearIcon:d,props:n};N=f.getJSXElement(n.filterTemplate,J)}var Y=r({className:t("header")},w("header"));return u.createElement("div",Y,N)}return null},j=function(){if(n.virtualScrollerOptions){var d=G(G({},n.virtualScrollerOptions),{style:G(G({},n.virtualScrollerOptions.style),{height:n.scrollHeight}),className:R("p-dropdown-items-wrapper",n.virtualScrollerOptions.className),items:n.visibleOptions,autoSize:!0,onLazyLoad:function(S){return n.virtualScrollerOptions.onLazyLoad(G(G({},S),{filter:n.filterValue}))},itemTemplate:function(S,N){return S&&ne(S,N.index,N)},contentTemplate:function(S){var N=n.hasFilter?n.emptyFilterMessage:n.emptyMessage,J=m?K(N):S.children,Y=r({ref:S.contentRef,style:S.style,className:R(S.className,t("list",{virtualScrollerProps:n.virtualScrollerOptions})),role:"listbox","aria-label":Xe("listLabel")},w("list"));return u.createElement("ul",Y,J)}});return u.createElement(Pt,z({ref:n.virtualScrollerRef},d,{pt:i("virtualScroller")}))}var s=te(),v=r({className:t("wrapper"),style:O("wrapper")},w("wrapper")),x=r({className:t("list"),role:"listbox","aria-label":Xe("listLabel")},w("list"));return u.createElement("div",v,u.createElement("ul",x,s))},W=function(){var d=k(),s=j(),v=ee(),x=r({className:R(n.panelClassName,t("panel",{context:C})),style:O("panel"),onClick:n.onClick},w("panel")),T=r({classNames:t("transition"),in:n.in,timeout:{enter:120,exit:100},options:n.transitionOptions,unmountOnExit:!0,onEnter:$,onEntered:Z,onExit:n.onExit,onExited:n.onExited},w("transition"));return u.createElement(Dt,z({nodeRef:a},T),u.createElement("div",z({ref:a},x),n.firstFocusableElement,d,s,v,n.lastFocusableElement))},E=W();return u.createElement(Lt,{element:E,appendTo:n.appendTo})}));ln.displayName="DropdownPanel";function _t(n,a){var r=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=Ut(n))||a){r&&(n=r);var i=0,t=function(){};return{s:t,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(F){throw F},f:t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,C=!0,L=!1;return{s:function(){r=r.call(n)},n:function(){var F=r.next();return C=F.done,F},e:function(F){L=!0,O=F},f:function(){try{C||r.return==null||r.return()}finally{if(L)throw O}}}}function Ut(n,a){if(n){if(typeof n=="string")return Ye(n,a);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ye(n,a):void 0}}function Ye(n,a){(a==null||a>n.length)&&(a=n.length);for(var r=0,i=Array(a);r<a;r++)i[r]=n[r];return i}function Qe(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)}return r}function V(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Qe(Object(r),!0).forEach(function(i){ge(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var zt=u.memo(u.forwardRef(function(n,a){var r=ke(),i=u.useContext(en),t=me.getProps(n,i),O=yt("",t.filterDelay||0),C=ue(O,3),L=C[0],m=C[1],F=C[2],q=u.useState(!1),w=ue(q,2),$=w[0],Z=w[1],H=u.useState(-1),ee=ue(H,2),b=ee[0],K=ee[1],ne=u.useState(!1),te=ue(ne,2),p=te[0],k=te[1],j=u.useRef(!1),W=u.useRef(null),E=u.useRef(null),P=u.useRef(null),d=u.useRef(null),s=u.useRef(t.inputRef),v=u.useRef(t.focusInputRef),x=u.useRef(null),T=u.useRef(null),S=u.useRef(null),N=t.virtualScrollerOptions&&t.virtualScrollerOptions.lazy,J=f.isNotEmpty(m),Y=t.appendTo||i&&i.appendTo||oe.appendTo,Q=me.setMetaData(V(V({props:t},t.__parentMetadata),{},{state:{filter:m,focused:$,overlayVisible:p}})),I=Q.ptm,M=Q.cx,un=Q.sx,cn=Q.isUnstyled;ht(me.css.styles,cn,{name:"dropdown"});var sn=It({target:W,overlay:E,listener:function(e,o){var c=o.type,g=o.valid;g&&(c==="outside"?!Re(e)&&_():_())},when:p}),Ke=ue(sn,2),dn=Ke[0],pn=Ke[1],Te=function(e){return(e||[]).reduce(function(o,c,g){o.push(V(V({},c),{},{group:!0,index:g}));var y=ie(c);return y&&y.forEach(function(ae){return o.push(ae)}),o},[])},fn=function(){var e=t.optionGroupLabel?Te(t.options):t.options;if(J&&!N){var o=m.trim().toLocaleLowerCase(t.filterLocale),c=t.filterBy?t.filterBy.split(","):[t.optionLabel||"label"];if(t.optionGroupLabel){var g=[],y=_t(t.options),ae;try{for(y.s();!(ae=y.n()).done;){var $e=ae.value,Fe=Je.filter(ie($e),c,o,t.filterMatchMode,t.filterLocale);Fe&&Fe.length&&g.push(V(V({},$e),ge({},"".concat(t.optionGroupChildren),Fe)))}}catch(gt){y.e(gt)}finally{y.f()}return Te(g)}return Je.filter(e,c,o,t.filterMatchMode,t.filterLocale)}return e},vn=function(e){var o=e.relatedTarget===v.current?h.getFirstFocusableElement(E.current,':not([data-p-hidden-focusable="true"])'):v.current;h.focus(o)},mn=function(e){var o=e.relatedTarget===v.current?h.getLastFocusableElement(E.current,':not([data-p-hidden-focusable="true"])'):v.current;h.focus(o)},Re=function(e){return h.isAttributeEquals(e.target,"data-pc-section","clearicon")||h.isAttributeEquals(e.target.parentElement||e.target,"data-pc-section","filterclearicon")},gn=function(e){t.disabled||t.loading||(t.onClick&&t.onClick(e),!e.defaultPrevented&&(Re(e)||e.target.tagName==="INPUT"||((!E.current||!(E.current&&E.current.contains(e.target)))&&(h.focus(v.current),p?_():B()),e.preventDefault(),j.current=!0)))},bn=function(e){t.showOnFocus&&!p&&B(),Z(!0),t.onFocus&&t.onFocus(e)},Ne=function(e){Z(!1),t.onBlur&&setTimeout(function(){var o=s.current?s.current.value:void 0;t.onBlur({originalEvent:e.originalEvent,value:o,stopPropagation:function(){e.originalEvent.stopPropagation()},preventDefault:function(){e.originalEvent.preventDefault()},target:{name:t.name,id:t.id,value:o}})},200)},se=function(e,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;Ae({originalEvent:e,option:o}),c&&(_(),h.focus(v.current))},yn=function(e){Ct.emit("overlay-click",{originalEvent:e,target:W.current})},be=function(e){if(t.disabled){e.preventDefault();return}var o=h.isAndroid()?e.key:e.code;switch(o){case"ArrowDown":we(e);break;case"ArrowUp":je(e);break;case"ArrowLeft":case"ArrowRight":Me(e,t.editable);break;case"Home":Dn(e);break;case"End":Ln(e);break;case"PageDown":kn(e);break;case"PageUp":Pn(e);break;case"Space":Kn(e,t.editable);break;case"NumpadEnter":case"Enter":Ee(e);break;case"Escape":Tn(e);break;case"Tab":Rn(e);break;case"Backspace":Nn(e,t.editable);break;case"ShiftLeft":case"ShiftRight":break;default:var c=e.metaKey||e.ctrlKey||e.altKey;!c&&f.isPrintableCharacter(e.key)&&(!p&&!t.editable&&B(),!t.editable&&En(e,e.key));break}j.current=!1},hn=function(e){switch(e.code){case"ArrowDown":we(e);break;case"ArrowUp":je(e);break;case"ArrowLeft":case"ArrowRight":Me(e,!0);break;case"Escape":case"Enter":case"NumpadEnter":Ee(e),e.preventDefault();break}},In=function(){return h.getFocusableElements(E.current,':not([data-p-hidden-focusable="true"])').length>0},ye=function(e){var o;return re(e)&&((o=U(e))===null||o===void 0?void 0:o.toLocaleLowerCase(t.filterLocale).startsWith(S.current.toLocaleLowerCase(t.filterLocale)))},re=function(e){return f.isNotEmpty(e)&&!(_e(e)||qn(e))},On=function(){return f.isNotEmpty(t.value)},wn=function(e){return re(e)&&He(e)},de=function(){return On?D.findIndex(function(e){return wn(e)}):-1},he=function(){var e=de();return e<0?Ie():e},En=function(e,o){S.current=(S.current||"")+o;var c=-1,g=!1;return f.isNotEmpty(S.current)&&(b!==-1?(c=D.slice(b).findIndex(function(y){return ye(y)}),c=c===-1?D.slice(0,b).findIndex(function(y){return ye(y)}):c+b):c=D.findIndex(function(y){return ye(y)}),c!==-1&&(g=!0),c===-1&&b===-1&&(c=he()),c!==-1&&X(e,c)),T.current&&clearTimeout(T.current),T.current=setTimeout(function(){S.current="",T.current=null},500),g},xn=function(){var e=de();return e<0?Oe():e},Ie=function(){return D.findIndex(function(e){return re(e)})},Oe=function(){return f.findLastIndex(D,function(e){return re(e)})},Sn=function(e){var o=e<D.length-1?D.slice(e+1).findIndex(function(c){return re(c)}):-1;return o>-1?o+e+1:e},Cn=function(e){var o=e>0?f.findLastIndex(D.slice(0,e),function(c){return re(c)}):-1;return o>-1?o:e},X=function(e,o){b!==o&&(K(o),Fn(o),t.selectOnFocus&&se(e,D[o],!1))},Fn=function(e){var o=h.findSingle(E.current,'li[id="dropdownItem_'.concat(e,'"]'));o&&o.focus()},we=function(e){if(!p)B(),t.editable&&X(e,de());else{var o=b!==-1?Sn(b):j.current?Ie():he();X(e,o)}e.preventDefault()},je=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!o)b!==-1&&se(e,D[b]),state.overlayVisible&&_(),e.preventDefault();else{var c=b!==-1?Cn(b):j.current?Oe():xn();X(e,c),!p&&B(),e.preventDefault()}},Me=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o&&K(-1)},Dn=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o?(e.currentTarget.setSelectionRange(0,0),K(-1)):(X(e,Ie()),!p&&B()),e.preventDefault()},Ln=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o){var c=e.currentTarget,g=c.value.length;c.setSelectionRange(g,g),K(-1)}else X(e,Oe()),!p&&B();e.preventDefault()},Pn=function(e){e.preventDefault()},kn=function(e){e.preventDefault()},Kn=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!o&&Ee(e)},Ee=function(e){p?b!==-1&&se(e,D[b]):(K(-1),we(e)),e.preventDefault()},Tn=function(e){p&&_(),e.preventDefault()},Rn=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||(p&&!In()?(h.focus(P.current),e.preventDefault()):(b!==-1&&se(e,D[b]),p&&_()))},Nn=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e&&o&&!p&&B()},jn=function(e,o){if(!o||!(e!=null&&e.length))return-1;var c=o.toLocaleLowerCase(),g=e.findIndex(function(y){return U(y).toLocaleLowerCase()===c});return g!==-1?g:e.findIndex(function(y){return U(y).toLocaleLowerCase().startsWith(c)})},Mn=function(e){!p&&B();var o=null;e.target.value&&D&&(o=jn(D,e.target.value)),K(o),t.onChange&&t.onChange({originalEvent:e.originalEvent,value:e.target.value,stopPropagation:function(){e.originalEvent.stopPropagation()},preventDefault:function(){e.originalEvent.preventDefault()},target:{name:t.name,id:t.id,value:e.target.value}})},An=function(e){Z(!0),_(),t.onFocus&&t.onFocus(e)},Gn=function(e){var o=e.option;o.disabled||(Ae(e),h.focus(v.current)),_()},Vn=function(e){var o=e.target.value;F(o),t.onFilter&&t.onFilter({originalEvent:e,filter:o})},Hn=function(e){pe(e)},pe=function(e){F(""),t.onFilter&&t.onFilter({filter:""}),e&&e()},xe=function(e){t.onChange&&t.onChange({originalEvent:e,value:void 0,stopPropagation:function(){e==null||e.stopPropagation()},preventDefault:function(){e==null||e.preventDefault()},target:{name:t.name,id:t.id,value:void 0}}),t.filter&&pe(),Be(),K(-1)},Ae=function(e){if(A!==e.option){Be(e.option),K(-1);var o=fe(e.option),c=Se(e.option,D);t.onChange&&t.onChange({originalEvent:e.originalEvent,value:o,stopPropagation:function(){e.originalEvent.stopPropagation()},preventDefault:function(){e.originalEvent.preventDefault()},target:{name:t.name,id:t.id,value:o}}),X(e.originalEvent,c)}},Ge=function(e){if(e=e||D,e)if(t.optionGroupLabel)for(var o=0;o<e.length;o++){var c=Se(t.value,ie(e[o]));if(c!==-1)return{group:o,option:c}}else return Se(t.value,e);return-1},Ve=function(){return t.optionValue?null:t.dataKey},Se=function(e,o){var c=Ve();return o.findIndex(function(g){return f.equals(e,fe(g),c)})},He=function(e){return f.equals(t.value,fe(e),Ve())},B=function(){K(b!==-1?b:t.autoOptionFocus?he():t.editable?-1:de()),k(!0)},_=function(){k(!1),j.current=!1},Bn=function(){t.editable&&!p&&j.current===!1&&h.focus(s.current)},_n=function(e){De.set("overlay",E.current,i&&i.autoZIndex||oe.autoZIndex,i&&i.zIndex.overlay||oe.zIndex.overlay),h.addStyles(E.current,{position:"absolute",top:"0",left:"0"}),Ce(),e&&e()},Un=function(e){e&&e(),dn(),t.onShow&&t.onShow()},zn=function(){pn()},$n=function(){t.filter&&t.resetFilterOnHide&&pe(),De.clear(E.current),t.onHide&&t.onHide()},Ce=function(){h.alignOverlay(E.current,s.current.parentElement,t.appendTo||i&&i.appendTo||oe.appendTo)},Jn=function(){var e=h.findSingle(E.current,'li[data-p-focused="true"]');if(e&&e.scrollIntoView)e.scrollIntoView({block:"nearest",inline:"nearest"});else{var o=h.findSingle(E.current,'li[data-p-highlight="true"]');o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"})}},Be=function(e){s.current&&(s.current.value=e?U(e):t.value||"",v.current&&(v.current.value=s.current.value))},U=function(e){if(f.isScalar(e))return"".concat(e);var o=t.optionLabel?f.resolveFieldData(e,t.optionLabel):e.label;return"".concat(o)},fe=function(e){if(t.useOptionAsValue)return e;var o=t.optionValue?f.resolveFieldData(e,t.optionValue):e?e.value:f.resolveFieldData(e,"value");return t.optionValue||f.isNotEmpty(o)?o:e},Xn=function(e){return t.dataKey?f.resolveFieldData(e,t.dataKey):U(e)},qn=function(e){return t.optionGroupLabel&&e.group},_e=function(e){return t.optionDisabled?f.isFunction(t.optionDisabled)?t.optionDisabled(e):f.resolveFieldData(e,t.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1},Zn=function(e){return f.resolveFieldData(e,t.optionGroupLabel)},Wn=function(e){return f.resolveFieldData(e,t.optionGroupLabel)},ie=function(e){return f.resolveFieldData(e,t.optionGroupChildren)},Yn=function(){if(t.editable&&s.current){var e=A?U(A):null,o=e||t.value||"";s.current.value=o,v.current&&(v.current.value=o)}},Qn=function(){var e=Ge(t.options);return e!==-1?t.optionGroupLabel?ie(t.options[e.group])[e.option]:t.options[e]:null};u.useImperativeHandle(a,function(){return{props:t,show:B,hide:_,clear:xe,focus:function(){return h.focus(v.current)},getElement:function(){return W.current},getOverlay:function(){return E.current},getInput:function(){return s.current},getFocusInput:function(){return v.current},getVirtualScroller:function(){return x.current}}}),u.useEffect(function(){f.combinedRefs(s,t.inputRef),f.combinedRefs(v,t.focusInputRef)},[s,t.inputRef,v,t.focusInputRef]),Ot(function(){t.autoFocus&&h.focus(v.current,t.autoFocus),Ce()}),ve(function(){p&&(t.value||b>=0)&&Jn()},[p,t.value,b]),ve(function(){p&&m&&t.filter&&Ce()},[p,m,t.filter]),ve(function(){x.current&&x.current.scrollInView(0)},[m]),ve(function(){Yn(),s.current&&(s.current.selectedIndex=1)}),wt(function(){De.clear(E.current)});var et=function(){var e={value:"",label:t.placeholder};if(A){var o=fe(A);e={value:le(o)==="object"?t.options.findIndex(function(ae){return ae===o}):o,label:U(A)}}var c=r({className:"p-hidden-accessible p-dropdown-hidden-select"},I("hiddenSelectedMessage")),g=r({ref:s,required:t.required,defaultValue:e.value,name:t.name,tabIndex:-1},I("select")),y=r({value:e.value},I("option"));return u.createElement("div",c,u.createElement("select",g,u.createElement("option",y,e.label)))},nt=function(){var e=f.isNotEmpty(A)?U(A):null;t.editable&&(e=e||t.value||"");var o=r({className:"p-hidden-accessible"},I("hiddenSelectedMessage")),c=r(V({ref:v,id:t.inputId,defaultValue:e,type:"text",readOnly:!0,"aria-haspopup":"listbox",onFocus:bn,onBlur:Ne,onKeyDown:be,disabled:t.disabled,tabIndex:t.disabled?-1:t.tabIndex||0},ze),I("input"));return u.createElement("div",o,u.createElement("input",c))},tt=function(){var e=f.isNotEmpty(A)?U(A):null;if(t.editable){var o=e||t.value||"",c=r(V({ref:s,type:"text",defaultValue:o,className:M("input",{label:e}),disabled:t.disabled,placeholder:t.placeholder,maxLength:t.maxLength,onInput:Mn,onFocus:An,onKeyDown:be,onBlur:Ne,tabIndex:t.disabled?-1:t.tabIndex||0,"aria-haspopup":"listbox"},ze),I("input"));return u.createElement("input",c)}var g=t.valueTemplate?f.getJSXElement(t.valueTemplate,A,t):e||t.placeholder||t.emptyMessage||u.createElement(u.Fragment,null,"Â "),y=r({ref:s,className:M("input",{label:e}),tabIndex:"-1"},I("input"));return u.createElement("span",y,g)},rt=function(e){(e.key==="Enter"||e.code==="Space")&&(xe(e),e.preventDefault())},at=function(){if(t.value!=null&&t.showClear&&!t.disabled&&!f.isEmpty(t.options)){var e=r({className:M("clearIcon"),onPointerUp:xe,tabIndex:t.editable?-1:t.tabIndex||"0",onKeyDown:rt,"aria-label":Le("clear")},I("clearIcon")),o=t.clearIcon||u.createElement(nn,e);return ce.getJSXIcon(o,V({},e),{props:t})}return null},ot=function(){var e=r({className:M("loadingIcon"),"data-pr-overlay-visible":p},I("loadingIcon")),o=t.loadingIcon||u.createElement(St,{spin:!0}),c=ce.getJSXIcon(o,V({},e),{props:t}),g=t.placeholder||t.ariaLabel,y=r({className:M("trigger"),role:"button","aria-haspopup":"listbox","aria-expanded":p,"aria-label":g},I("trigger"));return u.createElement("div",y,c)},lt=function(){var e=r({className:M("dropdownIcon"),"data-pr-overlay-visible":p},I("dropdownIcon")),o=p?t.collapseIcon||u.createElement(xt,e):t.dropdownIcon||u.createElement(Et,e),c=ce.getJSXIcon(o,V({},e),{props:t}),g=t.placeholder||t.ariaLabel,y=r({className:M("trigger"),role:"button","aria-haspopup":"listbox","aria-expanded":p,"aria-label":g},I("trigger"));return u.createElement("div",y,c)},D=fn(),A=Qn(),it=f.isNotEmpty(t.tooltip),Ue=me.getOtherProps(t),ze=f.reduceKeys(Ue,h.ARIA_PROPS),ut=et(),ct=nt(),st=tt(),dt=t.loading?ot():lt(),pt=at(),ft=r({id:t.id,ref:W,className:R(t.className,M("root",{context:i,focusedState:$,overlayVisibleState:p})),style:t.style,onClick:function(e){return gn(e)},onMouseDown:t.onMouseDown,onContextMenu:t.onContextMenu,onFocus:Bn,"data-p-disabled":t.disabled,"data-p-focus":$,"aria-activedescendant":$?"dropdownItem_".concat(b):void 0},Ue,I("root")),vt=r({ref:P,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:vn,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},I("hiddenFirstFocusableEl")),mt=r({ref:d,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:mn,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},I("hiddenLastFocusableEl"));return u.createElement(u.Fragment,null,u.createElement("div",ft,ct,ut,st,pt,dt,u.createElement(ln,z({hostName:"Dropdown",ref:E,visibleOptions:D,virtualScrollerRef:x},t,{appendTo:Y,cx:M,filterValue:L,focusedOptionIndex:b,getOptionGroupChildren:ie,getOptionGroupLabel:Wn,getOptionGroupRenderKey:Zn,getOptionLabel:U,getOptionRenderKey:Xn,getSelectedOptionIndex:Ge,hasFilter:J,in:p,isOptionDisabled:_e,isSelected:He,onClick:yn,onEnter:_n,onEntered:Un,onExit:zn,onExited:$n,onFilterClearIconClick:Hn,onFilterInputChange:Vn,onFilterInputKeyDown:hn,onOptionClick:Gn,onInputKeyDown:be,ptm:I,resetFilter:pe,changeFocusedOptionIndex:X,firstFocusableElement:u.createElement("span",vt),lastFocusableElement:u.createElement("span",mt),sx:un}))),it&&u.createElement(Ft,z({target:W,content:t.tooltip,pt:I("tooltip")},t.tooltipOptions)))}));zt.displayName="Dropdown";export{zt as D,rn as S};
